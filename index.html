<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–µ–º–∏—è –ò–°–ü - –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="snowflakes-container"></div>
    
    <div class="container">
        <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
        <div id="registrationSection" class="auth-container">
            <h2>–ü—Ä–µ–º–∏—è –ò–°–ü 2024</h2>
            <p class="gold-subtitle">–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ –ª—É—á—à–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
            
            <div class="form-group">
                <label for="userName">–í–∞—à–µ –§–ò–û:</label>
                <input type="text" id="userName" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á">
                <div class="error-message" id="nameError">–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –§–ò–û (–º–∏–Ω–∏–º—É–º 2 —Å–ª–æ–≤–∞)</div>
            </div>
            
            <div class="form-group">
                <label for="userEmail">–í–∞—à email:</label>
                <input type="email" id="userEmail" placeholder="ivanov@example.com">
                <div class="error-message" id="emailError">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email</div>
            </div>
            
            <button class="login-button" onclick="registerUser()">–ù–∞—á–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</button>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(146, 20, 12, 0.1); border-radius: 10px; font-size: 0.9em;">
                <strong>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:</strong> –û–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑. 
                –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.
            </div>
        </div>

        <!-- –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ -->
        <div id="votingSection" style="display: none;">
            <div class="header">
                <div class="title-section">
                    <h1>–ü—Ä–µ–º–∏—è –ò–°–ü 2024</h1>
                    <p class="gold-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –ª—É—á—à–∏—Ö –≤ –∫–∞–∂–¥–æ–π –Ω–æ–º–∏–Ω–∞—Ü–∏–∏</p>
                </div>
                
                <div class="stats-section">
                    <div class="stat-card">
                        <div class="stat-number" id="completedNominations">0/8</div>
                        <div class="stat-label">–í–∞—à–∏ –≥–æ–ª–æ—Å–∞</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalVotes">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –≥–æ–ª–æ—Å–æ–≤</div>
                    </div>
                </div>

                <div class="user-info">
                    <span id="userNameDisplay"></span>
                    <button class="logout-button" onclick="logoutFromAccount()" title="–í—ã–π—Ç–∏ –∏–∑ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)">üö™</button>
                </div>
            </div>

            <div class="nominations-container">
                <div class="main-nominations">
                    <h2 class="section-title">–ì–ª–∞–≤–Ω—ã–µ –Ω–æ–º–∏–Ω–∞—Ü–∏–∏</h2>
                    <div class="nominations-grid main-grid" id="mainNominationsContainer"></div>
                </div>
                
                <div class="other-nominations">
                    <h2 class="section-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–æ–º–∏–Ω–∞—Ü–∏–∏</h2>
                    <div class="nominations-grid other-grid" id="otherNominationsContainer"></div>
                </div>
            </div>

            <div class="admin-access">
                <button class="admin-access-button" onclick="showPasswordModal()">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 class="modal-title" id="modalTitle">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç–∞</h2>
            <div class="students-grid" id="studentsGrid"></div>
            <button id="confirmSelection" class="confirm-button" disabled>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–±–æ—Ä</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–∞—Ä–æ–ª—è –∞–¥–º–∏–Ω–∞ -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePasswordModal()">&times;</span>
            <h2 class="modal-title">–ê–¥–º–∏–Ω-–¥–æ—Å—Ç—É–ø</h2>
            <div class="form-group">
                <label for="adminPassword">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="adminPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
            </div>
            <button class="confirm-button" onclick="checkAdminPassword()">–í–æ–π—Ç–∏</button>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <div class="admin-header">
            <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
            <button class="logout-button" onclick="hideAdminPanel()">‚úï</button>
        </div>
        <div class="admin-controls">
            <button class="admin-button" onclick="showLiveResults()">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</button>
            <button class="admin-button" onclick="showAllVoters()">üë• –í—Å–µ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–≤—à–∏–µ</button>
            <button class="admin-button" onclick="exportData()">üìÅ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
            <button class="admin-button" onclick="resetVoting()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</button>
            <button class="admin-button" onclick="forceReset()" style="background: linear-gradient(135deg, #1e1e24, rgba(220, 53, 69, 0.8));">üí• –°–∏–ª—å–Ω—ã–π —Å–±—Ä–æ—Å (–æ—Ç–ª–∞–¥–∫–∞)</button>
            <button class="admin-button" onclick="adminLogout()">üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div id="resultsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeResults()">&times;</span>
            <h2 class="modal-title" id="resultsTitle">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            <div class="results-grid" id="resultsGrid"></div>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="script.js"></script>
</body>
</html>